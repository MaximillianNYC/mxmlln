<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Timeline</title>
    <style>
        body {
            margin: 0;
            padding: 0;
            height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            background-color: #f5f5f5;
            font-family: Arial, sans-serif;
        }

        .timeline-container {
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .date-time {
            font-size: 14px;
            color: #333;
            font-weight: 500;
            letter-spacing: 0.5px;
        }


        .lines-container {
            display: flex;
            width: 600px;
            height: 48px;
            position: relative;
        }

        .time-indicator {
            position: absolute;
            top: -15px;
            left: 0;
            width: 0;
            height: 0;
            border-left: 6px solid transparent;
            border-right: 6px solid transparent;
            border-top: 8px solid #333;
            transition: left 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            pointer-events: none;
            z-index: 10;
        }

        .line-wrapper {
            flex: 1;
            height: 48px;
            display: flex;
            justify-content: center;
            align-items: center;
            cursor: pointer;
        }

        .line {
            width: 1px;
            height: 48px;
            background-color: #333;
            transition: width 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94), 
                        height 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);
        }

        .line-wrapper:hover .line {
            width: 24px;
        }

        .line-wrapper:hover + .line-wrapper .line,
        .line-wrapper:has(+ .line-wrapper:hover) .line {
            width: 20px; 
            transition-delay: 0.03s;
        }

        .line-wrapper:hover + .line-wrapper + .line-wrapper .line,
        .line-wrapper:has(+ .line-wrapper + .line-wrapper:hover) .line {
            width: 16px; 
            transition-delay: 0.06s;
        }

        .line-wrapper:hover + .line-wrapper + .line-wrapper + .line-wrapper .line,
        .line-wrapper:has(+ .line-wrapper + .line-wrapper + .line-wrapper:hover) .line {
            width: 12px;
            transition-delay: 0.09s;
        }

        .line-wrapper:hover + .line-wrapper + .line-wrapper + .line-wrapper + .line-wrapper .line,
        .line-wrapper:has(+ .line-wrapper + .line-wrapper + .line-wrapper + .line-wrapper:hover) .line {
            width: 8px; 
            transition-delay: 0.12s;
        }

        .line-wrapper:hover + .line-wrapper + .line-wrapper + .line-wrapper + .line-wrapper + .line-wrapper .line,
        .line-wrapper:has(+ .line-wrapper + .line-wrapper + .line-wrapper + .line-wrapper + .line-wrapper:hover) .line {
            width: 6px;
            transition-delay: 0.15s;
        }

        .line-wrapper:hover + .line-wrapper + .line-wrapper + .line-wrapper + .line-wrapper + .line-wrapper + .line-wrapper .line,
        .line-wrapper:has(+ .line-wrapper + .line-wrapper + .line-wrapper + .line-wrapper + .line-wrapper + .line-wrapper:hover) .line {
            width: 4px;
            transition-delay: 0.18s;
        }
    </style>
</head>
<body>
    <div class="timeline-container">
        <div class="date-time" id="current-date"></div>
        <div class="lines-container">
        <div class="time-indicator" id="time-indicator"></div>
        <div class="line-wrapper" data-hour="0"><div class="line"></div></div>
        <div class="line-wrapper" data-hour="1"><div class="line"></div></div>
        <div class="line-wrapper" data-hour="2"><div class="line"></div></div>
        <div class="line-wrapper" data-hour="3"><div class="line"></div></div>
        <div class="line-wrapper" data-hour="4"><div class="line"></div></div>
        <div class="line-wrapper" data-hour="5"><div class="line"></div></div>
        <div class="line-wrapper" data-hour="6"><div class="line"></div></div>
        <div class="line-wrapper" data-hour="7"><div class="line"></div></div>
        <div class="line-wrapper" data-hour="8"><div class="line"></div></div>
        <div class="line-wrapper" data-hour="9"><div class="line"></div></div>
        <div class="line-wrapper" data-hour="10"><div class="line"></div></div>
        <div class="line-wrapper" data-hour="11"><div class="line"></div></div>
        <div class="line-wrapper" data-hour="12"><div class="line"></div></div>
        <div class="line-wrapper" data-hour="13"><div class="line"></div></div>
        <div class="line-wrapper" data-hour="14"><div class="line"></div></div>
        <div class="line-wrapper" data-hour="15"><div class="line"></div></div>
        <div class="line-wrapper" data-hour="16"><div class="line"></div></div>
        <div class="line-wrapper" data-hour="17"><div class="line"></div></div>
        <div class="line-wrapper" data-hour="18"><div class="line"></div></div>
        <div class="line-wrapper" data-hour="19"><div class="line"></div></div>
        <div class="line-wrapper" data-hour="20"><div class="line"></div></div>
        <div class="line-wrapper" data-hour="21"><div class="line"></div></div>
        <div class="line-wrapper" data-hour="22"><div class="line"></div></div>
        <div class="line-wrapper" data-hour="23"><div class="line"></div></div>
        </div>
        <div class="date-time" id="current-time"></div>
    </div>

    <script>
        let originalTimeString = '';
        let isHovering = false;
        let selectedHour = null; // Track manually selected hour
        
        function updateDateTime() {
            const now = new Date();
            
            // Format date as MMM DD
            const dateOptions = { month: 'short', day: '2-digit' };
            const dateString = now.toLocaleDateString('en-US', dateOptions);
            
            // Format time as HH:MMAM/PM
            const timeOptions = { hour: '2-digit', minute: '2-digit', hour12: true };
            const timeString = now.toLocaleTimeString('en-US', timeOptions);
            
            document.getElementById('current-date').textContent = dateString;
            
            // Only update time display if not hovering over a line and no specific hour is selected
            if (!isHovering) {
                if (selectedHour !== null) {
                    // Show the selected hour time
                    const selectedTime = formatHourTime(selectedHour);
                    document.getElementById('current-time').textContent = selectedTime;
                } else {
                    // Show current time
                    document.getElementById('current-time').textContent = timeString;
                }
                originalTimeString = timeString;
            }
            
            // Update indicator position if no manual selection
            if (selectedHour === null) {
                const currentHour = now.getHours();
                updateIndicatorPosition(currentHour);
            }
        }
        
        function formatHourTime(hour) {
            const date = new Date();
            date.setHours(hour, 0, 0, 0);
            
            const timeOptions = { hour: '2-digit', minute: '2-digit', hour12: true };
            return date.toLocaleTimeString('en-US', timeOptions);
        }
        
        function updateIndicatorPosition(hour) {
            const indicator = document.getElementById('time-indicator');
            const lineWrappers = document.querySelectorAll('.line-wrapper');
            const containerWidth = 600; // Width of lines container
            const lineWidth = containerWidth / 24; // Width per line
            
            // Calculate position: center of the target line minus half indicator width
            const targetPosition = (hour * lineWidth) + (lineWidth / 2) - 6; // 6px is half indicator width
            indicator.style.left = `${targetPosition}px`;
        }
        
        // Add hover and click event listeners to all line wrappers
        document.addEventListener('DOMContentLoaded', function() {
            const lineWrappers = document.querySelectorAll('.line-wrapper');
            
            lineWrappers.forEach(wrapper => {
                wrapper.addEventListener('mouseenter', function() {
                    const hour = parseInt(this.dataset.hour);
                    const hourTime = formatHourTime(hour);
                    document.getElementById('current-time').textContent = hourTime;
                    isHovering = true;
                });
                
                wrapper.addEventListener('mouseleave', function() {
                    isHovering = false;
                    // If a specific hour is selected, show that time, otherwise show current time
                    if (selectedHour !== null) {
                        const selectedTime = formatHourTime(selectedHour);
                        document.getElementById('current-time').textContent = selectedTime;
                    } else {
                        document.getElementById('current-time').textContent = originalTimeString;
                    }
                });
                
                wrapper.addEventListener('click', function() {
                    const hour = parseInt(this.dataset.hour);
                    selectedHour = hour;
                    updateIndicatorPosition(hour);
                    
                    // Update the time display to show the selected hour
                    const selectedTime = formatHourTime(hour);
                    document.getElementById('current-time').textContent = selectedTime;
                });
            });
            
            // Initialize indicator position
            const now = new Date();
            updateIndicatorPosition(now.getHours());
        });
        
        // Update immediately and then every second
        updateDateTime();
        setInterval(updateDateTime, 1000);
    </script>
</body>
</html>
