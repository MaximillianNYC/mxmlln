<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Timeline</title>
    <style>
        body {
            margin: 0;
            padding: 0;
            height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            background-color: #f5f5f5;
            font-family: Arial, sans-serif;
        }

        .timeline-container {
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .date-time {
            font-size: 14px;
            color: #333;
            font-weight: 500;
            letter-spacing: 0.5px;
        }

        .morphing-time {
            position: relative;
            display: inline-block;
            overflow: hidden;
        }

        .time-char {
            display: inline-block;
            transition: opacity 0.3s cubic-bezier(0.4, 0, 0.2, 1),
                       filter 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .time-char.morphing-out {
            opacity: 0;
            filter: blur(10px);
        }

        .time-char.morphing-in {
            opacity: 0;
            filter: blur(10px);
        }

        .time-char.morphing-in.active {
            opacity: 1;
            filter: blur(0px);
        }

        .lines-container {
            display: flex;
            width: 600px;
            height: 48px;
        }

        .line-wrapper {
            flex: 1;
            height: 48px;
            display: flex;
            justify-content: center;
            align-items: center;
            cursor: pointer;
        }

        .line {
            width: 1px;
            height: 48px;
            background-color: #333;
            transition: width 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94), 
                        height 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);
        }

        .line-wrapper:hover .line {
            width: 24px;
        }

        .line-wrapper:hover + .line-wrapper .line,
        .line-wrapper:has(+ .line-wrapper:hover) .line {
            width: 20px; 
            transition-delay: 0.03s;
        }

        .line-wrapper:hover + .line-wrapper + .line-wrapper .line,
        .line-wrapper:has(+ .line-wrapper + .line-wrapper:hover) .line {
            width: 16px; 
            transition-delay: 0.06s;
        }

        .line-wrapper:hover + .line-wrapper + .line-wrapper + .line-wrapper .line,
        .line-wrapper:has(+ .line-wrapper + .line-wrapper + .line-wrapper:hover) .line {
            width: 12px;
            transition-delay: 0.09s;
        }

        .line-wrapper:hover + .line-wrapper + .line-wrapper + .line-wrapper + .line-wrapper .line,
        .line-wrapper:has(+ .line-wrapper + .line-wrapper + .line-wrapper + .line-wrapper:hover) .line {
            width: 8px; 
            transition-delay: 0.12s;
        }

        .line-wrapper:hover + .line-wrapper + .line-wrapper + .line-wrapper + .line-wrapper + .line-wrapper .line,
        .line-wrapper:has(+ .line-wrapper + .line-wrapper + .line-wrapper + .line-wrapper + .line-wrapper:hover) .line {
            width: 6px;
            transition-delay: 0.15s;
        }

        .line-wrapper:hover + .line-wrapper + .line-wrapper + .line-wrapper + .line-wrapper + .line-wrapper + .line-wrapper .line,
        .line-wrapper:has(+ .line-wrapper + .line-wrapper + .line-wrapper + .line-wrapper + .line-wrapper + .line-wrapper:hover) .line {
            width: 4px;
            transition-delay: 0.18s;
        }
    </style>
</head>
<body>
    <div class="timeline-container">
        <div class="date-time" id="current-date"></div>
        <div class="lines-container">
        <div class="line-wrapper" data-hour="0"><div class="line"></div></div>
        <div class="line-wrapper" data-hour="1"><div class="line"></div></div>
        <div class="line-wrapper" data-hour="2"><div class="line"></div></div>
        <div class="line-wrapper" data-hour="3"><div class="line"></div></div>
        <div class="line-wrapper" data-hour="4"><div class="line"></div></div>
        <div class="line-wrapper" data-hour="5"><div class="line"></div></div>
        <div class="line-wrapper" data-hour="6"><div class="line"></div></div>
        <div class="line-wrapper" data-hour="7"><div class="line"></div></div>
        <div class="line-wrapper" data-hour="8"><div class="line"></div></div>
        <div class="line-wrapper" data-hour="9"><div class="line"></div></div>
        <div class="line-wrapper" data-hour="10"><div class="line"></div></div>
        <div class="line-wrapper" data-hour="11"><div class="line"></div></div>
        <div class="line-wrapper" data-hour="12"><div class="line"></div></div>
        <div class="line-wrapper" data-hour="13"><div class="line"></div></div>
        <div class="line-wrapper" data-hour="14"><div class="line"></div></div>
        <div class="line-wrapper" data-hour="15"><div class="line"></div></div>
        <div class="line-wrapper" data-hour="16"><div class="line"></div></div>
        <div class="line-wrapper" data-hour="17"><div class="line"></div></div>
        <div class="line-wrapper" data-hour="18"><div class="line"></div></div>
        <div class="line-wrapper" data-hour="19"><div class="line"></div></div>
        <div class="line-wrapper" data-hour="20"><div class="line"></div></div>
        <div class="line-wrapper" data-hour="21"><div class="line"></div></div>
        <div class="line-wrapper" data-hour="22"><div class="line"></div></div>
        <div class="line-wrapper" data-hour="23"><div class="line"></div></div>
        </div>
        <div class="date-time">
            <span class="morphing-time" id="current-time"></span>
        </div>
    </div>

    <script>
        let originalTimeString = '';
        let isHovering = false;
        let currentDisplayedTime = '';
        
        function morphText(element, newText) {
            if (currentDisplayedTime === newText) return;
            
            const oldChars = element.querySelectorAll('.time-char');
            
            // Start morphing out old characters with staggered timing (with initial delay)
            oldChars.forEach((char, index) => {
                setTimeout(() => {
                    char.classList.add('morphing-out');
                }, 100 + (index * 20)); // 100ms initial delay + staggered timing
            });
            
            // Start new characters while old ones are still morphing out
            setTimeout(() => {
                element.innerHTML = '';
                
                newText.split('').forEach((char, index) => {
                    const charSpan = document.createElement('span');
                    charSpan.className = 'time-char morphing-in';
                    charSpan.textContent = char === ' ' ? '\u00A0' : char;
                    element.appendChild(charSpan);
                    
                    // Trigger morph in animation with stagger
                    setTimeout(() => {
                        charSpan.classList.add('active');
                    }, index * 20); // Match the stagger timing
                });
                
                currentDisplayedTime = newText;
            }, 220); // Adjusted for the 100ms initial delay + 120ms original delay
        }
        
        function updateDateTime() {
            const now = new Date();
            
            // Format date as MMM DD
            const dateOptions = { month: 'short', day: '2-digit' };
            const dateString = now.toLocaleDateString('en-US', dateOptions);
            
            // Format time as HH:MMAM/PM
            const timeOptions = { hour: '2-digit', minute: '2-digit', hour12: true };
            const timeString = now.toLocaleTimeString('en-US', timeOptions);
            
            document.getElementById('current-date').textContent = dateString;
            
            // Only update time display if not hovering over a line
            if (!isHovering) {
                const timeElement = document.getElementById('current-time');
                if (currentDisplayedTime === '') {
                    // Initial load - no morphing
                    timeElement.innerHTML = '';
                    timeString.split('').forEach(char => {
                        const charSpan = document.createElement('span');
                        charSpan.className = 'time-char';
                        charSpan.textContent = char === ' ' ? '\u00A0' : char;
                        timeElement.appendChild(charSpan);
                    });
                    currentDisplayedTime = timeString;
                } else {
                    morphText(timeElement, timeString);
                }
                originalTimeString = timeString;
            }
        }
        
        function formatHourTime(hour) {
            const date = new Date();
            date.setHours(hour, 0, 0, 0);
            
            const timeOptions = { hour: '2-digit', minute: '2-digit', hour12: true };
            return date.toLocaleTimeString('en-US', timeOptions);
        }
        
        // Add hover event listeners to all line wrappers
        document.addEventListener('DOMContentLoaded', function() {
            const lineWrappers = document.querySelectorAll('.line-wrapper');
            
            lineWrappers.forEach(wrapper => {
                wrapper.addEventListener('mouseenter', function() {
                    const hour = parseInt(this.dataset.hour);
                    const hourTime = formatHourTime(hour);
                    const timeElement = document.getElementById('current-time');
                    morphText(timeElement, hourTime);
                    isHovering = true;
                });
                
                wrapper.addEventListener('mouseleave', function() {
                    isHovering = false;
                    const timeElement = document.getElementById('current-time');
                    morphText(timeElement, originalTimeString);
                });
            });
        });
        
        // Update immediately and then every second
        updateDateTime();
        setInterval(updateDateTime, 1000);
    </script>
</body>
</html>
