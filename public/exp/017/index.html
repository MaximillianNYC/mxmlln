<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CLI Loaders</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        @import url('https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;500;600&display=swap');

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', sans-serif;
            background: #1a1a1a;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            padding: 40px;
            color: #e0e0e0;
        }

        .container {
            max-width: 900px;
            width: 100%;
        }

        .loader-showcase {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            pointer-events: none;
            opacity: 0;
            transition: opacity 0.3s ease;
            z-index: 25;
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 16px;
            padding: 16px;
            background: #1a1a1a;
            border-radius: 26px;
        }

        .loader-showcase.open {
            pointer-events: all;
            opacity: 1;
        }

        .backdrop {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.7);
            backdrop-filter: blur(10px);
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.3s ease;
            z-index: 15;
        }

        .backdrop.open {
            opacity: 1;
            pointer-events: all;
        }

        .loader-section {
            background: #252525;
            border-radius: 12px;
            padding: 4px;
            display: flex;
            align-items: center;
            justify-content: center;
            width: 148px;
            height: 148px;
            cursor: pointer;
            transition: all 0.2s ease;
            border: 2px solid transparent;
            transform: scale(0);
            opacity: 0;
            z-index: 20;
        }

        .loader-showcase.open .loader-section {
            transform: scale(1);
            opacity: 1;
        }

        .loader-section:nth-child(1) { transition-delay: 0.05s; }
        .loader-section:nth-child(2) { transition-delay: 0.1s; }
        .loader-section:nth-child(3) { transition-delay: 0.15s; }
        .loader-section:nth-child(4) { transition-delay: 0.2s; }
        .loader-section:nth-child(5) { transition-delay: 0.25s; }
        .loader-section:nth-child(6) { transition-delay: 0.3s; }
        .loader-section:nth-child(7) { transition-delay: 0.35s; }
        .loader-section:nth-child(8) { transition-delay: 0.4s; }
        .loader-section:nth-child(9) { transition-delay: 0.45s; }
        .loader-section:nth-child(10) { transition-delay: 0.5s; }
        .loader-section:nth-child(11) { transition-delay: 0.55s; }
        .loader-section:nth-child(12) { transition-delay: 0.6s; }
        .loader-section:nth-child(13) { transition-delay: 0.65s; }

        .loader-section:hover {
            background: #2a2a2a;
            transform: scale(1.05);
        }

        .loader-section.active {
            border-color: var(--loader-color, #ff6b35);
            background: #2d2d2d;
        }

        .text-loader {
            font-size: 24px;
            font-weight: 400;
            color: #ff6b35;
            font-family: monospace;
            line-height: 1;
            user-select: none;
            white-space: pre !important;
        }

        .main-loader-display {
            border-radius: 16px;
            padding: 60px 40px;
            margin-bottom: 40px;
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 0px;
            border: 2px solid transparent;
            position: relative;
            z-index: 1;
        }

        .loader-zone {
            border-radius: 12px;
            padding: 8px;
            cursor: pointer;
            transition: all 0.4s ease;
            border: 2px solid transparent;
            display: flex;
            align-items: center;
            justify-content: center;
            width: 80px;
            white-space: pre;
        }

        .loader-zone:hover {
            background: #1f1f1f;
        }

        .text-zone {
            border-radius: 12px;
            margin-left: -12px;
            padding: 12px;
            cursor: pointer;
            transition: all 0.4s ease;
            border: 2px solid transparent;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            white-space: pre;
        }

        .text-zone:hover {
            background: #1f1f1f;
        }

        .text-zone input[type="color"] {
            position: absolute;
            opacity: 0;
            width: 100%;
            height: 100%;
            cursor: pointer;
            z-index: 2;
        }

        .loading-text {
            display: flex;
            align-items: center;
            gap: 0px;
            font-size: 32px;
            font-weight: 100;
            pointer-events: none;
            position: relative;
            z-index: 1;
            font-family: 'JetBrains Mono', monospace;
        }

        .loading-text .char, .char {
            font-size: 36px;
            color: #ff6b35;
            white-space: pre !important;
        }

        #mainLoader {
            white-space: pre !important;
            font-family: monospace !important;
        }

        .loading-text .text-char {
            display: inline-block;
            animation: shimmer 2s ease-in-out infinite;
        }

        .loading-text .text-char:nth-child(1) { animation-delay: 0s; }
        .loading-text .text-char:nth-child(2) { animation-delay: 0.1s; }
        .loading-text .text-char:nth-child(3) { animation-delay: 0.2s; }
        .loading-text .text-char:nth-child(4) { animation-delay: 0.3s; }
        .loading-text .text-char:nth-child(5) { animation-delay: 0.4s; }
        .loading-text .text-char:nth-child(6) { animation-delay: 0.5s; }
        .loading-text .text-char:nth-child(7) { animation-delay: 0.6s; }

        @keyframes shimmer {
            0%, 100% {
                color: #ff6b35;
                filter: brightness(1);
            }
            25% {
                color: #ff8555;
                filter: brightness(1.3);
            }
            50% {
                color: #ffaa88;
                filter: brightness(1.5);
            }
            75% {
                color: #ff8555;
                filter: brightness(1.3);
            }
        }

    </style>
</head>
<body>
    <div class="backdrop" id="backdrop"></div>

    <div class="container">
        <!-- Main Loader Display -->
        <div class="main-loader-display">
            <!-- Loader Zone (triggers loader menu) -->
            <div class="loader-zone" id="loaderTrigger">
                <span class="char" id="mainLoader">‚úΩ</span>
            </div>
            
            <!-- Text Zone (triggers color picker) -->
            <div class="text-zone">
                <input type="color" id="colorPicker" value="#ff6b35">
                <div class="loading-text">
                    <span id="loadingTextWrapper"></span>
                </div>
            </div>
        </div>

        <div class="loader-showcase" id="loaderShowcase">
            <!-- Spinner Characters -->
            <div class="loader-section" data-loader="spinner">
                <div class="text-loader" id="loader1">‚†ã</div>
            </div>

            <!-- Line Spinner -->
            <div class="loader-section" data-loader="line">
                <div class="text-loader" id="loader2">‚Äî</div>
            </div>

            <!-- Box Spinner -->
            <div class="loader-section" data-loader="box">
                <div class="text-loader" id="loader3">‚ó∞</div>
            </div>

            <!-- Circle Quarters -->
            <div class="loader-section" data-loader="circle">
                <div class="text-loader" id="loader4">‚óú</div>
            </div>

            <!-- Arrows -->
            <div class="loader-section" data-loader="arrow">
                <div class="text-loader" id="loader5">‚Üê</div>
            </div>

            <!-- Dots -->
            <div class="loader-section" data-loader="dots">
                <div class="text-loader" id="loader6">‚£æ</div>
            </div>

            <!-- Moon Phases -->
            <div class="loader-section" data-loader="moon">
                <div class="text-loader" id="loader7">üåë</div>
            </div>

            <!-- Clock -->
            <div class="loader-section" data-loader="clock">
                <div class="text-loader" id="loader8">üïê</div>
            </div>

            <!-- Bouncing Ball -->
            <div class="loader-section" data-loader="bounce">
                <div class="text-loader" id="loader9">(‚óè    )</div>
            </div>

            <!-- Progress Bar ASCII -->
            <div class="loader-section" data-loader="progress">
                <div class="text-loader" style="font-size: 16px;" id="loader10">[          ]</div>
            </div>

            <!-- Shrinking Asterisk -->
            <div class="loader-section active" data-loader="shrink">
                <div class="text-loader" id="loader13">‚úΩ</div>
            </div>
        </div>
    </div>

    <script>
        // Character sets for different loader styles
        const loaderSets = {
            spinner: ['‚†ã', '‚†ô', '‚†π', '‚†∏', '‚†º', '‚†¥', '‚†¶', '‚†ß', '‚†á', '‚†è'],
            line: ['‚Äî', '\\', '|', '/'],
            box: ['‚ó∞', '‚ó≥', '‚ó≤', '‚ó±'],
            circle: ['‚óú', '‚óù', '‚óû', '‚óü'],
            arrow: ['‚Üê', '‚Üñ', '‚Üë', '‚Üó', '‚Üí', '‚Üò', '‚Üì', '‚Üô'],
            dots: ['‚£æ', '‚£Ω', '‚£ª', '‚¢ø', '‚°ø', '‚£ü', '‚£Ø', '‚£∑'],
            moon: ['üåë', 'üåí', 'üåì', 'üåî', 'üåï', 'üåñ', 'üåó', 'üåò'],
            clock: ['üïê', 'üïë', 'üïí', 'üïì', 'üïî', 'üïï', 'üïñ', 'üïó', 'üïò', 'üïô', 'üïö', 'üïõ'],
            bounce: [
                '(‚óè    )',
                '( ‚óè   )',
                '(  ‚óè  )',
                '(   ‚óè )',
                '(    ‚óè)',
                '(   ‚óè )',
                '(  ‚óè  )',
                '( ‚óè   )'
            ],
            progress: [
                '[          ]',
                '[=         ]',
                '[==        ]',
                '[===       ]',
                '[====      ]',
                '[=====     ]',
                '[======    ]',
                '[=======   ]',
                '[========  ]',
                '[========= ]',
                '[==========]'
            ],
            binary: ['0', '1'],
            shrink: ['‚úΩ', '‚úª', '‚ú∑', '‚ú∂', '*', '+', '¬∑', '¬∑', '+', '*', '‚ú∂', '‚ú∑', '‚úª', '‚úΩ']
        };

        // Assign each loader its character set
        const loaderConfigs = [
            { id: 'loader1', set: 'spinner' },
            { id: 'loader2', set: 'line' },
            { id: 'loader3', set: 'box' },
            { id: 'loader4', set: 'circle' },
            { id: 'loader5', set: 'arrow' },
            { id: 'loader6', set: 'dots' },
            { id: 'loader7', set: 'moon' },
            { id: 'loader8', set: 'clock' },
            { id: 'loader9', set: 'bounce' },
            { id: 'loader10', set: 'progress' },
            { id: 'loader11', set: 'binary' },
            { id: 'loader13', set: 'shrink' },
            { id: 'mainLoader', set: 'shrink' }
        ];

        let animationSpeed = 100;
        let intervals = [];
        let currentMainLoader = 'shrink';

        function startLoader(elementId, charSet) {
            const element = document.getElementById(elementId);
            if (!element) return;

            let index = 0;
            const chars = loaderSets[charSet];

            const intervalId = setInterval(() => {
                element.textContent = chars[index];
                index = (index + 1) % chars.length;
            }, animationSpeed);

            return intervalId;
        }

        function startAllLoaders() {
            // Clear existing intervals
            intervals.forEach(id => clearInterval(id));
            intervals = [];

            // Start all loaders
            loaderConfigs.forEach(config => {
                const intervalId = startLoader(config.id, config.set);
                intervals.push(intervalId);
            });
        }

        function updateMainLoader(loaderType) {
            currentMainLoader = loaderType;

            // Update the config for main loader
            const mainConfig = loaderConfigs.find(c => c.id === 'mainLoader');
            if (mainConfig) {
                mainConfig.set = loaderType;
            }

            // Update loader zone width based on loader type
            const loaderZone = document.getElementById('loaderTrigger');
            const chars = loaderSets[loaderType];
            if (chars && chars.length > 0) {
                // Create a temporary element to measure the widest character
                const temp = document.createElement('span');
                temp.style.fontSize = '36px';
                temp.style.fontFamily = 'monospace';
                temp.style.visibility = 'hidden';
                temp.style.position = 'absolute';
                temp.style.whiteSpace = 'pre';
                document.body.appendChild(temp);
                
                let maxWidth = 0;
                chars.forEach(char => {
                    temp.textContent = char;
                    maxWidth = Math.max(maxWidth, temp.offsetWidth);
                });
                
                document.body.removeChild(temp);
                
                // Set the loader zone width with some padding
                loaderZone.style.width = (maxWidth + 40) + 'px';
                loaderZone.style.minWidth = (maxWidth + 40) + 'px';
            }

            // Restart all loaders with new config
            startAllLoaders();

            // Update active state
            document.querySelectorAll('.loader-section').forEach(section => {
                section.classList.remove('active');
            });
            const activeSection = document.querySelector(`[data-loader="${loaderType}"]`);
            if (activeSection) {
                activeSection.classList.add('active');
            }
        }

        // Color picker
        const colorPicker = document.getElementById('colorPicker');

        colorPicker.addEventListener('input', (e) => {
            const color = e.target.value;
            document.querySelectorAll('.text-loader, .char').forEach(loader => {
                loader.style.color = color;
            });

            // Update CSS custom property for active border
            document.documentElement.style.setProperty('--loader-color', color);

            // Update shimmer animation colors
            updateShimmerColors(color);
        });

        function updateShimmerColors(baseColor) {
            // Convert hex to RGB
            const r = parseInt(baseColor.slice(1, 3), 16);
            const g = parseInt(baseColor.slice(3, 5), 16);
            const b = parseInt(baseColor.slice(5, 7), 16);

            // Create brighter variants
            const color25 = `rgb(${Math.min(255, r + 30)}, ${Math.min(255, g + 30)}, ${Math.min(255, b + 30)})`;
            const color50 = `rgb(${Math.min(255, r + 60)}, ${Math.min(255, g + 60)}, ${Math.min(255, b + 60)})`;

            // Update keyframe animation
            const styleId = 'shimmer-style';
            let style = document.getElementById(styleId);
            if (!style) {
                style = document.createElement('style');
                style.id = styleId;
                document.head.appendChild(style);
            }

            style.innerHTML = `
                @keyframes shimmer {
                    0%, 100% {
                        color: ${baseColor};
                        filter: brightness(1);
                    }
                    25% {
                        color: ${color25};
                        filter: brightness(1.3);
                    }
                    50% {
                        color: ${color50};
                        filter: brightness(1.5);
                    }
                    75% {
                        color: ${color25};
                        filter: brightness(1.3);
                    }
                }
            `;
        }

        // Toggle flower menu
        let isMenuOpen = false;
        const loaderTrigger = document.getElementById('loaderTrigger');
        const loaderShowcase = document.getElementById('loaderShowcase');
        const backdrop = document.getElementById('backdrop');

        loaderTrigger.addEventListener('click', (e) => {
            e.stopPropagation();
            isMenuOpen = !isMenuOpen;

            if (isMenuOpen) {
                loaderShowcase.classList.add('open');
                backdrop.classList.add('open');
            } else {
                loaderShowcase.classList.remove('open');
                backdrop.classList.remove('open');
            }
        });

        backdrop.addEventListener('click', () => {
            isMenuOpen = false;
            loaderShowcase.classList.remove('open');
            backdrop.classList.remove('open');
        });

        // Add click handlers to loader sections
        document.querySelectorAll('.loader-section').forEach(section => {
            section.addEventListener('click', () => {
                const loaderType = section.getAttribute('data-loader');
                if (loaderType) {
                    updateMainLoader(loaderType);

                    // Close menu after selection
                    isMenuOpen = false;
                    loaderShowcase.classList.remove('open');
                    backdrop.classList.remove('open');
                }
            });
        });

        // Create shimmer text effect
        function createShimmerText(text, wrapperId) {
            const wrapper = document.getElementById(wrapperId);
            wrapper.innerHTML = '';

            for (let i = 0; i < text.length; i++) {
                const span = document.createElement('span');
                span.className = 'text-char';
                span.textContent = text[i];
                span.style.animationDelay = `${i * 0.1}s`;
                wrapper.appendChild(span);
            }
        }

        // Initialize
        createShimmerText('Loading...', 'loadingTextWrapper');
        startAllLoaders();
        
        // Initialize loader zone width for default loader
        updateMainLoader(currentMainLoader);
    </script>
</body>
</html>
